<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <link rel="stylesheet" type="text/css" href="contact.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin=""/>
        <style>
            img.huechange2 { filter: hue-rotate(330deg); }
            img.huechange { filter: hue-rotate(180deg); }
        </style>
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>
        <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
        <script src="keypress.js"></script>

        
        <title>Contact Us</title>
    </head>
<body>
    <section class="showcase">
        <div class="video-container">
            <video src="lluvia.mp4" autoplay muted loop></video>
        </div>
        <div class="content">
            <h1>
                Contacta'ns!!
            </h1>
            <h3>
                Envia el teu missatge
            </h3>
            <button class="button"><a href="https://en.puroland.jp/" accesskey="j">Formulari de Contacte</a></button>
        </div>
    </section>
    
    <section class="showcase2">
        
        <div class="content2">
            <h1>
                Vols vistar-nos?
            </h1>
            <h3>
                Ubica'ns al mapa
            </h3>
        </div>
        <div id="map"></div>    
        <script>
            var listener = new window.keypress.Listener();
            var map = L.map('map').setView([41.23127, 1.72868], 18);
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showposition);
            }
            function showposition(position){
               var lat=position.coords.latitude
               var long=position.coords.longitude
               var marker2 = new  L.marker([lat, long]).addTo(map);
               marker2.bindPopup("<b>Vosté está aquí</b>").openPopup();
               marker2._icon.classList.add("huechange2");
//                L.Routing.control({
//                    waypoints:   [
//                    L.latLng(41.23127, 1.72868),
//                    L.latLng(lat, long)
//                    ]
//                    }).addTo(map);
            listener.simple_combo("ctrl alt g", function() {
                alert("la teva ubicació es\nLatitud "+lat+"\nLongitud "+long)
            });
            }
            
            listener.simple_combo("ctrl alt c", function() {
                map.panTo(new L.LatLng(41.23127, 1.72868, 18));
            });
            var set = true;
            listener.simple_combo("ctrl alt q", function() {
                if(set == true){
                    listener.unregister_combo("ctrl alt c");
                    listener.unregister_combo("ctrl alt g");
                }
                else{
                    listener.simple_combo("ctrl alt g", function() {
                        alert("la teva ubicació es\nLatitud "+lat+"\nLongitud "+long)
                    });

                    listener.simple_combo("ctrl alt c", function() {
                        map.panTo(new L.LatLng(41.23127, 1.72868, 18));
                    });
                }
                set=!set;
            });
            var marker = new L.marker([41.23127, 1.72868]).addTo(map);
            marker._icon.classList.add("huechange");
            
            marker.bindPopup("<b>Institut</b></br>Joaquim Mir").openPopup();
            var tiles = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
                maxZoom: 18,
                attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
                    'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                id: 'mapbox/streets-v11',
                tileSize: 512,
                zoomOffset: -1
            }).addTo(map);
            
        </script>
            
    </section>

    <section id="about">

        <h2>Follow us on social media</h2>

        <div class="social">
            <a href="https://twitter.com/insjmir" target="_blank"><i class="fa fa-twitter"></i></a>
            <a href="https://m.facebook.com/profile.php?id=112082288817274" target="_blank"><i class="fa fa-facebook"></i></a>
            <a href="https://twitter.com" target="_blank"><i class="fa fa-linkedin"></i></a>
            <a href="https://twitter.com" target="_blank"><i class="fa fa-github"></i></a>


        </div>
    </section>

    
</body>
</html>